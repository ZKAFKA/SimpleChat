# SimpleChat-
简单的TCP聊天服务器客户端（C#）
### 基本流程
客户端A与客户端B与服务器进行连接完成“上线”，从而将自己的IP地址以及端口信息上传到服务器的XML文档中。
  
当客户端A想要与客户端B建立连接时，客户端A向服务器发出连接请求信息（包含A的IP和B的昵称），此时服务器在数据文档中检索B的IP及端口号，首先将A的IP以及一个作为公证的由服务器生成的签名发给B，B收到后返回ACK给服务器，服务器收到ACK后再将B的IP、端口号、以及相同的签名返回给A。  
  
客户端A收到B的信息后向B提出连接请求，请求内容包含自己的IP和签名。客户端B收到后检查IP与签名是否与服务器返回的一致，从而确认客户端A的身份，如果身份验证通过，则可以继续通信；若身份验证失败，则B关闭连接。  
### 应用层协议（自己编写）  
CNNN + （控制命令）  
  C000 + clientA_name:clientA_ip:clientA_port  客户端上线报文  
  C101 + ipA:clientB_name     客户端连接信息请求报文  
  C001 + ip:port:(签名)   服务器向clientA信息传送报文  
  C010 + ip:(签名)        服务器向clientB验证报文  
  C011 + ip:(签名)        clientA向clientB验证报文  
  C111 + (签名)           客户端验证通过报文  
  C100 + (error message)  错误报文  
TEXT + （文本消息）  
 
